
:root {
  --primary: #1A73E8;
  --primary-dark: #0D47A1;
  --accent: #FBC02D;
  --danger: #D93025;
  --danger-bright: #FF4B2B;
  --success: #1E8E3E;
  --bg-desktop: radial-gradient(circle at top left, #1e3c72, #2a5298);
  --surface: #FFFFFF;
  --text-main: #202124;
  --text-sub: #5F6368;
  --shadow-lg: 0 24px 48px rgba(0,0,0,0.4);
  --radius-phone: 40px;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; -webkit-tap-highlight-color: transparent; }

body { 
  background: var(--bg-desktop); 
  height: 100vh; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  overflow: hidden;
  padding: 20px;
}

/* 스마트폰 프레임 보정: 화면이 작아지면 프레임도 함께 작아짐 */
.mobile-wrapper {
  width: 100%;
  max-width: 400px;
  height: auto;
  aspect-ratio: 9 / 19;
  max-height: 90vh;
  background: #000;
  border-radius: var(--radius-phone);
  padding: 12px;
  box-shadow: var(--shadow-lg);
  position: relative;
  border: 4px solid #333;
  display: flex;
  flex-direction: column;
}

@media (max-width: 500px) {
  body { padding: 0; }
  .mobile-wrapper {
    max-width: 100%;
    max-height: 100%;
    height: 100vh;
    border-radius: 0;
    padding: 0;
    border: none;
    aspect-ratio: auto;
  }
}

.mobile-content {
  flex: 1;
  background: #fff;
  border-radius: 30px;
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
}

@media (max-width: 500px) {
  .mobile-content { border-radius: 0; }
}

/* --- 버튼 및 인터랙션 강화 --- */

.action-btn { 
  background: linear-gradient(135deg, #4285F4 0%, #1A73E8 100%);
  color: white; border: none; padding: 14px 28px; border-radius: 16px; 
  font-weight: bold; font-size: 1rem;
  box-shadow: 0 4px 15px rgba(26,115,232,0.4); 
  cursor: pointer; transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.action-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(26,115,232,0.5); }
.action-btn:active { transform: scale(0.95); }

.main-cta {
  width: 100%; padding: 1.2rem; border: none; border-radius: 20px;
  font-size: 1.1rem; font-weight: 800; color: white; cursor: pointer;
  transition: all 0.3s;
}
.main-cta.start {
  background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
  box-shadow: 0 8px 25px rgba(58, 123, 213, 0.4);
}
.main-cta.stop {
  background: linear-gradient(135deg, #f80759 0%, #bc4e9c 100%);
  box-shadow: 0 8px 25px rgba(248, 7, 89, 0.4);
}

.sos-action {
  background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
  color: white; border: none; padding: 10px 20px; border-radius: 25px;
  font-weight: 900; letter-spacing: 1px;
  box-shadow: 0 4px 15px rgba(235, 51, 73, 0.4);
  animation: pulse-red 2s infinite;
}

@keyframes pulse-red {
  0% { transform: scale(1); box-shadow: 0 4px 15px rgba(235, 51, 73, 0.4); }
  50% { transform: scale(1.05); box-shadow: 0 4px 25px rgba(235, 51, 73, 0.6); }
  100% { transform: scale(1); box-shadow: 0 4px 15px rgba(235, 51, 73, 0.4); }
}

/* --- 채팅 UI 고도화 --- */
.chat-container { height: 100%; display: flex; flex-direction: column; background: #f0f2f5; }
.chat-messages { flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 14px; }

.msg-bubble { 
  max-width: 85%; padding: 14px 18px; border-radius: 22px; font-size: 0.95rem; line-height: 1.5;
  box-shadow: 0 3px 12px rgba(0,0,0,0.06); position: relative;
}
.msg-bubble.mine { 
  align-self: flex-end; background: linear-gradient(135deg, #007bff 0%, #0056b3 100%); color: white;
  border-bottom-right-radius: 4px;
}
.msg-bubble.theirs { 
  align-self: flex-start; background: white; color: #1c1e21;
  border-bottom-left-radius: 4px;
}
.msg-bubble.broadcast {
  align-self: center; background: #fff3cd; color: #856404; border: 1px solid #ffeeba;
  width: 95%; text-align: center; border-radius: 12px; font-weight: 500;
}

.chat-controls { background: white; border-top: 1px solid #e4e6eb; padding: 1rem; }
.chat-input-area { display: flex; gap: 12px; align-items: center; }
.chat-input-area input { 
  flex: 1; padding: 14px 20px; background: #f0f2f5; border: none; border-radius: 25px; outline: none;
  font-size: 0.95rem;
}
.send-btn { 
  background: var(--primary); color: white; border: none; width: 48px; height: 48px; 
  border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;
  transition: transform 0.2s;
}
.send-btn:hover { transform: rotate(-10deg) scale(1.1); }

/* --- 관리자 Add 버튼 고도화 --- */
.add-route-input { 
  display: flex; gap: 10px; margin-top: 1.5rem; padding: 8px; 
  background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 18px;
}
.add-action-btn {
  background: linear-gradient(135deg, #1A73E8 0%, #0D47A1 100%);
  color: white; border: none; width: 48px; height: 48px; border-radius: 14px;
  font-size: 1.8rem; line-height: 1; cursor: pointer; transition: 0.2s;
}
.add-action-btn:hover { transform: rotate(90deg); }

.anim-fade-in { animation: fadeIn 0.5s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
